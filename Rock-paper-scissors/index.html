<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-paper-scissors</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div>
        <h1>가위바위보 게임</h1>
    </div>
    <div id="ai">
        <img name="img" src="image/moving.gif"/>
    </div>
    <div>
        <span id="result"></span>
    </div>
    <div>
        <input type="button" class="rock ball" value="rock"/>
        <input type="button" class="paper ball" value="paper"/>
        <input type="button" class="scissor ball" value="scissor"/>

    </div>
    <script>
        $rock = document.querySelector(".rock");
        $paper = document.querySelector(".paper");
        $scissor = document.querySelector(".scissor");
        $result = document.querySelector("#result");
        $img = document.querySelector("#img");

        const onClickButton = (e) => {

            const me = e.target.value

            let res = Math.floor(Math.random() * 3);
            let my_res = e.target.value;

            if (my_res === "rock"){
                if(res==0){
                    img.setAttribute('src',"image/rock.png");
                    $result.textContent = "무승부";
                }
                else if(res==1){
                    img.setAttribute('src',"image/paper.png");
                    $result.textContent = "패배...";
                }
                else if(res==2){
                    img.setAttribute('src',"image/scissor.png");
                    $result.textContent = "승리!";
                }
            }
            else if(my_res==="paper"){
                if(res==0){
                    img.setAttribute('src',"image/rock.png");
                    $result.textContent = "승리!";
                }
                else if(res==1){
                    img.setAttribute('src',"image/paper.png");
                    $result.textContent = "무승부";
                }
                else if(res==2){
                    img.setAttribute('src',"image/scissor.png");
                    $result.textContent = "패배...";
                }
            }
            else{  
                if(res==0){
                    img.setAttribute('src',"image/rock.png");
                    $result.textContent = "패배...";
                }
                else if(res==1){
                    img.setAttribute('src',"image/paper.png");
                    $result.textContent = "승리!";
                }
                else if(res==2){
                    img.setAttribute('src',"image/scissor.png");
                    $result.textContent = "무승부";
                }
            }
        }

        $rock.addEventListener('click',onClickButton);
        $paper.addEventListener('click',onClickButton);
        $scissor.addEventListener('click',onClickButton);

    </script>
</body>
</html>